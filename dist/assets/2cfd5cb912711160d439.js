import"./index.html";import"./style.scss";const buttonsEnglishLower=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del","CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","Shift","Ctrl","Win","Alt"," ","Alt","Ctrl","ArrowLeft","ArrowUp","ArrowDown","ArrowRight"],buttonsEnglishUpperShiftOn=["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","Del","CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter","Shift","Z","X","C","V","B","N","M","<",">","?","Shift","Ctrl","Win","Alt"," ","Alt","Ctrl","ArrowLeft","ArrowUp","ArrowDown","ArrowRight"],createComponent=function(e,t){const s=document.createElement(e,t);return s.classList.add(t),s},createButtons=function(e){buttonsEnglishLower.forEach((t=>{const s=createComponent("div","single-key");"Tab"===t&&s.classList.add("single-key--tab"),"CapsLock"!==t&&"Enter"!==t&&"Backspace"!==t||s.classList.add("single-key--backspace"),"Shift"===t&&s.classList.add("single-key--shift")," "===t&&(s.classList.add("single-key--space"),s.innerText=""),e.append(s)}))},createWorkArea=function(){const e=createComponent("div","main-div");document.body.append(e);const t=createComponent("h1","title");t.innerText="RSS Virtual keyboard",e.append(t);const s=createComponent("textarea","text-area");e.append(s),s.focus();const n=createComponent("div","keyboard");e.append(n),createButtons(n)};createWorkArea();const addInnerTextToButtons=function(e){document.querySelectorAll(".single-key").forEach(((t,s)=>{const n=t;n.innerText=e[s],60===s&&(n.innerText="<"),63===s&&(n.innerText=">"),62===s&&(n.classList.add("single-key--arrow-down"),n.innerText=">"),61===s&&(n.classList.add("single-key--arrow-up"),n.innerText=">")}))};addInnerTextToButtons(buttonsEnglishLower);const key=document.querySelectorAll(".single-key"),addActiveClassButton=function(e){const t=document.querySelector(".keyboard");if("ShiftRight"===e.code||"ShiftLeft"===e.code||"ControlLeft"===e.code||"ControlRight"===e.code||"AltRight"===e.code||"AltLeft"===e.code||"Space"===e.code||"Delete"===e.code||"ArrowLeft"===e.code||"ArrowRight"===e.code||"ArrowUp"===e.code||"ArrowDown"===e.code||"ArrowUp"===e.code||"MetaLeft"===e.code||"Tab"===e.code)switch(e.code){case"ShiftLeft":t.children[42].classList.add("single-key--active");break;case"ShiftRight":t.children[53].classList.add("single-key--active");break;case"ControlLeft":t.children[54].classList.add("single-key--active");break;case"ControlRight":t.children[59].classList.add("single-key--active");break;case"AltRight":t.children[58].classList.add("single-key--active"),"AltRight"===e.code&&e.preventDefault();break;case"AltLeft":t.children[56].classList.add("single-key--active"),"AltLeft"===e.code&&e.preventDefault();break;case"Space":t.children[57].classList.add("single-key--active");break;case"Delete":t.children[28].classList.add("single-key--active");break;case"ArrowLeft":t.children[60].classList.add("single-key--active");break;case"ArrowRight":t.children[63].classList.add("single-key--active");break;case"ArrowUp":t.children[61].classList.add("single-key--active");break;case"ArrowDown":t.children[62].classList.add("single-key--active");break;case"MetaLeft":t.children[55].classList.add("single-key--active");break;case"Tab":t.children[14].classList.add("single-key--active"),function(){if("Tab"===e.code){e.preventDefault();const t=document.querySelector("textarea");t.setRangeText("   ",t.selectionStart,t.selectionEnd,"end")}}()}else key.forEach(((t,s)=>{t.innerText===e.key&&key[s].classList.add("single-key--active")}))};document.onkeydown=function(e){const t=document.querySelector(".keyboard");"ShiftLeft"===e.code&&(t.children[42].classList.add("single-key--active"),addInnerTextToButtons(buttonsEnglishUpperShiftOn)),"ShiftRight"===e.code&&(t.children[53].classList.add("single-key--active"),addInnerTextToButtons(buttonsEnglishUpperShiftOn))},document.onkeyup=function(e){const t=document.querySelector(".keyboard");"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||!t.children[53].classList.contains("single-key--active")&&!t.children[42].classList.contains("single-key--active")||(t.children[42].classList.remove("single-key--active"),t.children[53].classList.remove("single-key--active")),"ShiftLeft"===e.code&&(t.children[42].classList.remove("single-key--active"),addInnerTextToButtons(buttonsEnglishLower)),"ShiftRight"===e.code&&(t.children[53].classList.remove("single-key--active"),addInnerTextToButtons(buttonsEnglishLower)),"ShiftLeft"!==e.code&&t.children[42].classList.contains("single-key--active")&&key.forEach((e=>{e.classList.remove("single-key--active"),t.children[42].classList.add("single-key--active")})),"ShiftRight"!==e.code&&t.children[53].classList.contains("single-key--active")&&key.forEach((e=>{e.classList.remove("single-key--active"),t.children[53].classList.add("single-key--active")})),t.children[53].classList.contains("single-key--active")||t.children[42].classList.contains("single-key--active")||key.forEach((e=>{e.classList.remove("single-key--active")}))},document.addEventListener("keydown",addActiveClassButton);